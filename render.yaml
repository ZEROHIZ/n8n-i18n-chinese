# Blueprint to deploy the pre-built Chinese n8n image on Render.

services:
  - type: web
    plan: free
    # 使用 runtime: image，因为我们直接拉取一个现成的镜像
    runtime: image
    name: n8n-chinese-service
    
    # 【核心修改】: 直接指向作者已经构建好的中文版镜像
    image:
      url: docker.io/otherblowsnow/n8n-i18n-chinese:latest

    envVars:
      # 这个密钥用于加密凭证，Render 会自动生成
      - key: N8N_ENCRYPTION_KEY
        generateValue: true

      # 【重要】: 设置默认语言为中文
      - key: N8N_DEFAULT_LOCALE
        value: zh-CN

      # 自动连接到下面定义的数据库
      - key: DB_TYPE
        value: postgresdb
      - key: DB_POSTGRESDB_DATABASE
        fromDatabase:
          name: n8n-db
          property: database
      - key: DB_POSTGRESDB_HOST
        fromDatabase:
          name: n8n-db
          property: host
      - key: DB_POSTGRESDB_PASSWORD
        fromDatabase:
          name: n8n-db
          property: password
      - key: DB_POSTGRESDB_USER
        fromDatabase:
          name: n8n-db
          property: user

databases:
  - name: n8n-db
    plan: free
